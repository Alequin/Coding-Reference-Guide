<!DOCTYPE html>
<html lang="en">

<head>
  <title>SQL Summary</title>
  <meta charset="utf-8">
  <link href="../css/basic-layout.css" type="text/css" rel="stylesheet"/>
  <link href="../css/summary-page-layout.css" type="text/css" rel="stylesheet"/>
  <link id="summary-page-layout" href="../css/normal-text-summary-page.css" type="text/css" rel="stylesheet"/>
  <link href="../css/no_bullet_point.css" type="text/css" rel="stylesheet"/>
</head>

<body>

  <div id="header-container">

        <h1 id="main-header">Helpful SQL</h1>

        <div id="contents-container">
          <div class="header-divider divider"></div>
          <table id="contents-table">
            <tr>
              <td>
                <a href="#">ph</a>
              </td>
              <td>
                <a href="#">ph</a>
              </td>
              <td>
                <a href="#string-functions">String Functions</a>
              </td>
            </tr>
            <tr>
              <td>
                <a href="#alter">ALTER</a>
              </td>
              <td>
                <a href="#primary-keys">Primary Keys</a>
              </td>
              <td>
                <a href="#where-and-operators">WHERE Clause and Conditional Operators</a>
              </td>
            </tr>
            <tr>
              <td>
                <a href="#not-null">NOT NULL &#38; DEFAULT</a>
              </td>
              <td>
                <a href="#data-types">Data types</a>
              </td>
              <td>
                <a href="#basic-sql">Basic SQL and the RDBMS</a>
              </td>
            </tr>
          </table>
        </div>
        <div class="header-divider divider"></div>
  </div>

  <div id="header-space"></div>

  <div id="primary-container">

    <div class="divider"></div>

    <div class="section">

      <div id="string-functions" class="title-anchor"></div>
      <h2 class="section-header">String Functions</h2>

      <div class="section-content section-text-normal">
        <p>
          String function are used in sql to manipulate input and return a new
          output. Normally the input is given as a parameter. Only a few
          functions are shown here. For a longer list view this
          <a href="../examples/sql/sql-string-functions.pdf">
            pdf</a> or
          <a href="https://www.tutorialspoint.com/sql/sql-string-functions.htm#function_insert">
            website</a>.<br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/primary-key-table.png" alt="table used to show string functions"/><br>
        <a href="../examples/sql/primary-key-table-creation.txt">View full code to produce table.</a>
        <p>
          LENGTH(string): used to return the length of a string;
          <br><br>
          <strong>
            SELECT LENGTH(first_name) FROM people;
          </strong>
        </p>
        <img src="../examples/sql/length-table.png" alt="example of LENGTH function"/>
        <p>
          LOCATE(stringToFind, stringToCheck): used to find the first index at
          which stringToFind occurs in stringToCheck;
          <br><br>
          <strong>
            SELECT LOCATE('r', first_name) FROM people;
          </strong>
        </p>
        <img src="../examples/sql/locate-table.png" alt="example of LOCATE function"/>
        <p>
          SUBSTRING_INDEX(stringToAlter, stringToLocate, occuranceToUse):
          used to return a substring of stringToAlter. The returned string
          will contain all characters prior to the  n<sup>th</sup> occurance
          (as specified by occuranceToUse) of stringToLocate. <br>
          If stringToLocate is not found in stringToAlter the entire string is
          returned (unless other conditions are also stated as in the example).
          <br><br>
          <strong>
            SELECT SUBSTRING_INDEX(first_name, 'r', 1) FROM people WHERE LOCATE('r', first_name) &#62; 0;
          </strong>
        </p>
        <img src="../examples/sql/sub-index-table.png" alt="example of SUBSTRING_INDEX function"/>
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="https://www.tutorialspoint.com/sql/sql-string-functions.htm">
            tutorialspoint: SQL - String Functions
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="alter" class="title-anchor"></div>
      <h2 class="section-header">ALTER</h2>

      <div class="section-content section-text-normal">
        <p>
          The key word alter is used to make changes to all aspects of a table.<br>
          This is the table that will be altered<br>
        </p>
        <img src="../examples/sql/table-to-alter.png" alt="table to be altered"/><br>
        <a href="../examples/sql/table-to-alter-code.txt">
          View the code to make the table.
        </a>
        <p>
          Change the name of the table:
          <br><br>
          <strong>
            ALTER TABLE peeps RENAME TO people;
          </strong>
          <br><br>
          Add new columns onto the table:
          <br><br>
          <strong>
            ALTER TABLE people ADD COLUMN phone_number VARCHAR(11);
          </strong>
          <br><br>
          Add new columns onto the table and control their position:
          <br><br>
          <strong>
            ALTER TABLE people ADD COLUMN person_number INT FIRST;<br>
          </strong>
          <em>
            In place of FIRST the key words LAST, BEFORE and AFTER may be
            used.
          </em>
          <br><br>
          Make changes to existing columns:
          <br><br>
          <strong>
            ALTER TABLE people <br>
            CHANGE COLUMN person_number person_id INT NOT NULL AUTO_INCREMENT,<br>
            ADD PRIMARY KEY (person_id);
          </strong>
          <br><br>
           Modify existing columns:
          <br><br>
          <strong>
            ALTER TABLE people MODIFY COLUMN phone_number INT(11);
          </strong>
          <br><br>
            Drop column from the table:
          <br><br>
          <strong>
            ALTER TABLE people DROP COLUMN phone_number;
          </strong>
          <br><br>
            Commands may also be chained together:
          <br><br>
          <strong>
            ALTER TABLE people <br>
            CHANGE COLUMN f_name first_name VARCHAR(50),<br>
            CHANGE COLUMN l_name last_name VARCHAR(50);
          </strong>
          <br><br>
            The resultant table after these commands is shown below.
        </p>
        <img src="../examples/sql/finished-altered-table.png" alt="table to be altered"/><br>
        <p>
          (Sources:<br>
          Head First sql)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="primary-keys" class="title-anchor"></div>
      <h2 class="section-header">Primary Keys</h2>

      <div class="section-content section-text-normal">
        <p>
          Primary keys act as unique identifiers for each row in a table. The
          column that holds the primary key can be created for that purpose
          alone or an already existing column that will never have duplicate
          values can act as the primary key.
          <br><br>
          The following show how to assign a column as the primary key and how
          to ensure each value is unique.
          <br><br>
          <strong>
            CREATE TABLE people(<br>
            &#160;&#160;person_id INT NOT NULL AUTO_INCREMENT,<br>
            &#160;&#160;first_name VARCHAR(50),<br>
            &#160;&#160;last_name VARCHAR(50),<br>
            &#160;&#160;age INT,<br>
            &#160;&#160;gender VARCHAR(1),<br>
            &#160;&#160;PRIMARY KEY (person_id)<br>
            );
          </strong>
        </p>
        <img src="../examples/sql/primary-key-table.png" alt="primary key table"/><br>
        <a href="../examples/sql/primary-key-table-creation.txt">View full code to produce table.</a>
        <p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="where-and-operators" class="title-anchor"></div>
      <h2 class="section-header">WHERE Clause and Conditional Operators</h2>

      <div class="section-content section-text-normal">
        <p>
          <a href="../examples/sql/select-section-table-code.txt">
            The following examples are based on the table in this file.
          </a>
          <br><br>
          The keyword WHERE and Conditional operators in SQL are used alongside
          SELECT, UPDATE and DELETE in order to created conditions and control
          which rows are returned or altered.
          <br><br>
          <strong>
            SELECT first_name, last_name FROM people WHERE age=22;
          </strong>
        </p>
        <img src="../examples/sql/where-condition.png" alt="where statment table"/><br>
        <p>
          Multiple conditions can be combined using the operators AND / OR.
          <br><br>
          <strong>
            SELECT first_name, last_name FROM people WHERE age=22 AND gender='f';
          </strong>
        </p>
        <img src="../examples/sql/select-and.png" alt="AND where statment table"/><br>
        <p>
          <strong>
            SELECT first_name, last_name FROM people WHERE age=22 OR last_name='Lenart';
          </strong>
        </p>
        <img src="../examples/sql/select-or.png" alt="OR where statment table"/><br>
        <p>
          Equals (=) is not the only available comparison operator. Common ones
          include:
          <br><br>
          <strong>
            &#60;: Less than<br>
            &#62;: Greater than<br>
            &#60;=: Less than or equal to<br>
            &#62;=: Greater than or equal to<br>
            &#60;&#62;: Not equal<br>
          </strong>
          <em>
            != is also an operator for not equal to but it is not defined in
            the ANSI 99 SQL standard and so some platforms may not support it.
          </em>
          <br><br>
          Another comparison operator is the LIKE keyword. When used it returns
          results that are similar to the condition given. It is commonly used
          alongside wild card characters such as %(acts as any number of
          characters) or _(acts as a single unknown character).
          <br><br>
          <strong>
            SELECT * FROM people WHERE first_name LIKE '%a';
          </strong>
        </p>
        <img src="../examples/sql/like-a-post.png" alt="LIKE '%a' result table"/><br>
        <p>
          <strong>
            SELECT * FROM people WHERE first_name LIKE 'M%';
          </strong>
        </p>
        <img src="../examples/sql/like-m-pre.png" alt="LIKE 'M%' result table"/><br>
        <p>
          <strong>
            SELECT * FROM people WHERE last_name LIKE '_leek';
          </strong>
        </p>
        <img src="../examples/sql/like-leek.png" alt="LIKE '_leek' result table"/><br>
        <p>
          <strong>
            SELECT * FROM people WHERE last_name LIKE 'Sho_man';
          </strong>
        </p>
        <img src="../examples/sql/like-sho-man.png" alt="LIKE 'Sho_man' result table"/><br>
        <p>
          Another comparison operator is BETWEEN, which finds all rows within
          a stated range.
          <br><br>
          <strong>
            SELECT first_name, age FROM people WHERE age BETWEEN 40 AND 90;
          </strong>
        </p>
        <img src="../examples/sql/between-keyword-table.png" alt="BETWEEN result table"/><br>
        <p>
          The comparison operator IN can be ued in place of multiple OR
          statments.
          <br><br>
          <strong>
            SELECT first_name, last_name FROM people WHERE last_name IN
            ('Tanouye', 'Smith', 'Frisina');
          </strong>
        </p>
        <img src="../examples/sql/in-keyword-table.png" alt="IN result table"/><br>
        <p>
          The comparison operator NOT is used to find all rows which do not
          match the given condition.
          <br><br>
          <strong>
            SELECT first_name, age FROM people WHERE NOT age BETWEEN 40
            AND 90;
          </strong>
        </p>
        <img src="../examples/sql/not-between-table.png" alt="NOT BETWEEN result table"/><br>
        <p>
          <strong>
            SELECT first_name, last_name FROM people WHERE NOT last_name IN
            ('Tanouye', 'Smith', 'Frisina');
          </strong>
        </p>
        <img src="../examples/sql/not-in-table.png" alt="NOT IN result table"/><br>
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://stackoverflow.com/questions/18015422/what-is-difference-between-and-in-sql-server">
            stackoverflow: What is difference between != and &#60;&#62; in sql server
          </a><br>
          <a href="http://web.cecs.pdx.edu/~len/sql1999.pdf">
            ANSI/ISO/IEC International Standard(IS) Database Language SQL —
            Part 2: Foundation (SQL/Foundation)
          </a><br>
          <a href="">
          </a><br>
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="not-null" class="title-anchor"></div>
      <h2 class="section-header">NOT NULL &#38; DEFAULT</h2>

      <div class="section-content section-text-normal">
        <p>
          NOT NULL is used while creating a table to ensure a column can never
          hold a null value. If this is used a value must always be given to
          the specified column when insert is called. When DESC is used on a
          table it is possible to see (in the third column) if a column can
          hold a null value.
          <br><br>
          <strong>
            CREATE TABLE people(<br>
            &#160;&#160;first_name VARCHAR(50) NOT NULL,<br>
            &#160;&#160;last_name VARCHAR(50) NOT NULL<br>
            );
          </strong>
          <br><br>
          To ensure a NOT NULL column always has a value DEFAULT can also be
          used during table creation. If a value is not given while inserting
          data the provided default value will be used.
          <br><br>
          <strong>
            CREATE TABLE people(<br>
            &#160;&#160;first_name VARCHAR(50) NOT NULL,<br>
            &#160;&#160;last_name VARCHAR(50) NOT NULL DEFAULT 'Smith'<br>
            );
          </strong>
          <br><br>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="data-types" class="title-anchor"></div>
      <h2 class="section-header">Data types</h2>

      <div class="section-content section-text-normal">
        <p>
          SQL data types
        </p>

        <ul>
          <li>
            <strong>CHAR(length) / CHARACTER(length)</strong>: Accepts a fixed
            length character string. A value with a length less that the given
            parameter will have blank characters added onto it. Values must be
            surrounded by single or double quotes.
          </li>

          <li>
            <strong>VARCHAR(length)</strong>: Accepts a variable length
            character string. Values must be surrounded by single or double
            quotes.
          </li>

          <li>
            <strong>Boolean</strong>: Holds a boolean value. When inserting data
            use TRUE or FALSE.
          </li>

          <li>
            <strong>INT / INTEGER</strong>: Takes a 4 byte / 32 bit whole number.
            As well as INT there is TINYINT(8 bit), SMALLINT(16 bit) and
            BIGINT(64 bit).
          </li>

          <li>
            <strong>
              DEC(totalDigitCount, digitsAfterDecimal) /<br>
              DECIMAL(totalDigitCount, digitsAfterDecimal) /<br>
              NUMERIC(totalDigitCount, digitsAfterDecimal)
            </strong>: Accepts whole and non whole numbers. The number to the
            left of the decimal may have any number of digits, but it will be
            rounded to match th value of digitsAfterDecimal. The number to the
            right of the decimal must have a digit count equal to or less than
            totalDigitCount - digitsAfterDecimal.
            <br><br>
            DEC(5, 3)<br>
            12.345 pass<br>
            1.23 pass<br>
            1.2345 pass but rounded to 1.235<br>
            123.45 fail
          </li>

          <li>
            <strong>REAL</strong>: Holds a single precision floating point
            number (32 bit approximation of a real number). All numbers
            containing 6 deciaml digits or fewer can be converted to a floating
            point value without loss of precision.
          </li>

          <li>
            <strong>DOUBLE</strong>: Holds a double precision floating point
            number (64 bit approximation of a real number). All numbers
            containing 15 deciaml digits or fewer can be converted to a floating
            point value without loss of precision.
          </li>

          <li>
            <strong>FLOAT(precision)</strong>: Holds a floating point
            number with a user defined precision with a max of 64.
          </li>

          <li>
            <strong>BLOB(length) / BINARY LARGE OBJECT(length)</strong>: Stored
            binary values up to a max size of 2GB.
          </li>

          <li>
            <strong>DATE</strong>: Accept date values surrounded by single
            quotes and in the format of DATE'YYYY-MM-DD' or 'YYYY-MM-DD'. Year
            can be values between 0-9999. Month can be values between 1-12. Day
            can be values between 1-31.
          </li>

          <li>
            <strong>TIME</strong>: Accept time values surrounded by single
            quotes and in the format of TIME'HH:MM:SS', 'HH:MM:SS',
            TIME'HH:MM:SS.NN' or 'HH:MM:SS.NN' (NN == nano seconds). Hour can
            be values between 0-23. Minute can be values between 0-59. Seconds
            can be values between 0-61.9999. TIME can accept DATE values but
            DATE must precede the value. The value input into the table will be
            00:00:00.
          </li>

          <li>
            <strong>TIMESTAMP</strong>: Accepts both date and time
            values surrounded by single quotes and in the format of
            TIMESTAMP'YYYY-MM-DD HH:MM:SS', 'YYYY-MM-DD HH:MM:SS',
            TIMESTAMP'YYYY-MM-DD HH:MM:SS.NN' or 'YYYY-MM-DD HH:MM:SS.NN'
            (NN == nano seconds). Acceptable values can be found in the DATE and
            TIME sections.
          </li>
        </ul>

        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://www.cs.toronto.edu/~nn/csc309-20085/guide/pointbase/docs/html/htmlfiles/dev_datatypesandconversionsFIN.html">
            toronto.edu: SQL Data Types
          </a><br>
          <a href="http://stackoverflow.com/questions/10707646/sql-real-vs-float">
            stackoverflow: SQL Real vs Float
          </a><br>
          <a href="http://doc.ispirer.com/sqlways/Output/SQLWays-1-099.html">
            Ispirer SQLWays Database Migration Software
          </a>
          <a href="https://en.wikipedia.org/wiki/Single-precision_floating-point_format">
            Wikipedia: Single-precision floating-point format
          </a><br>
          <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">
            Wikipedia: Double-precision floating-point format
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="basic-sql" class="title-anchor"></div>
      <h2 class="section-header">Basic SQL and the RDBMS</h2>

      <div class="section-content section-text-normal">
        <p>
          Access the SQL shell (assuming sql is installed):
          <br><br>
          <strong>
            mysql -u root -p
          </strong>
          <br><br>
          Create a new database:
          <br><br>
          <strong>
            CREATE DATABASE my_database;
          </strong>
          <br><br>
          Access the database:
          <br><br>
          <strong>
            USE my_database;
          </strong>
          <br><br>
          Create a new table in the database:
          <br><br>
          <strong>
              CREATE TABLE people(<br>
              &#160;&#160;first_name VARCHAR(50),<br>
              &#160;&#160;last_name VARCHAR(50),<br>
              &#160;&#160;age INT,<br>
              &#160;&#160;gender VARCHAR(1)<br>
              );
          </strong>
          <br><br>
          View table details:
          <br><br>
          <strong>
              DESC people;
          </strong>
          <br><br>
          Insert data into table:<br>
          <em>
            In the first insert example not all column must be named, only
            the ones to be used. In the second example as the column names are
            omitted data must be provided for all columns in the correct order.
          </em>
          <br><br>
          <strong>
              INSERT INTO people (first_name, last_name, age, gender)
              VALUES('Samantha', 'Herring', 25, 'f');<br>
              or<br>
              INSERT INTO people VALUES('Samantha', 'Herring', 25, 'f');<br>
          </strong>
          <br><br>
          Query and return data from the table.
          <br><br>
          <strong>
              SELECT * FROM people;
          </strong>
          <br><br>
          Update rows.
          <br><br>
          <strong>
              UPDATE people SET age = 26 WHERE last_name = 'Herring';
          </strong>
          <br><br>
          Delete specific rows:
          <br><br>
          <strong>
              DELETE FROM people WHERE age = 26;
          </strong>
          <br><br>
          Delete all rows:
          <br><br>
          <strong>
              DELETE FROM people;
          </strong>
          <br><br>
          Delete table:
          <br><br>
          <strong>
              DROP TABLE people;
          </strong>
          <br><br>
          Delete database:
          <br><br>
          <strong>
              DROP DATABASE my_database;
          </strong>
          <br><br>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" rel="javascript"></script>
  <script src="../j-script/show-contents.js" rel="javascript"></script>
  <script src="../j-script/header.js" rel="javascript"></script>
  <script src="../j-script/summary-layout-switcher.js" rel="javascript"></script>
  <script src="../j-script/summary-pages-events.js" rel="javascript"></script>

</body>

</html>
