<!DOCTYPE html>
<html lang="en">

<head>
  <title>SQL Summary</title>
  <meta charset="utf-8">
  <link href="../css/basic-layout.css" type="text/css" rel="stylesheet"/>
  <link href="../css/summary-page-layout.css" type="text/css" rel="stylesheet"/>
  <link id="summary-page-layout" href="../css/normal-text-summary-page.css" type="text/css" rel="stylesheet"/>
  <link href="../css/no_bullet_point.css" type="text/css" rel="stylesheet"/>
</head>

<body>

  <div id="header-container">
    <h1 id="main-header">Helpful SQL</h1>

    <div id="contents-container">
      <div class="header-divider divider"></div>
      <table id="search-and-sort-table">
        <tr>
          <td>
            <form name="search-form">
              <input id="contents-search-box" class="section-text-normal" type="text" name="search-term"/>
            </form>
          </td>
          <td>
            <p id="search-button" class="section-text-normal">
              <span class="vertical-align-text">Search</span>
            </p>
          </td>
          <td>
            <p id="order-button" class="section-text-normal">
              <span class="vertical-align-text"></span>
            </p>
          </td>
        </tr>
      </table>

    </div>
    <div class="header-divider divider"></div>
  </div>

  <div id="header-space"></div>

  <div id="primary-container">

    <div class="divider"></div>

    <div class="section">

      <div id="new-user" class="title-anchor"></div>
      <h2 class="section-header">New Users</h2>

      <div class="section-content section-text-normal">
        <p>
          MySQL databases can have multiple users, each with varing levels of
          access and permissions. The primary user has full access to all
          database and the ability to create new users and assign user
          permissions.
          <br><br>
          To create a user the following is used.
          <br><br>
          <strong>
            CREATE USER &#60;user-name&#62;<br>
            IDENTIFIED BY '&#60;password&#62;';
            <br><br>
            CREATE USER another_user<br>
            IDENTIFIED BY 'monkey';
          </strong>
          <br><br>
          Once created the user can log in from the console using their
          username.
          <br><br>
          <strong>
            mysql -u another_user -p;
          </strong>
          <br><br>
          The primary user can view all current users with the following
          statment.
          <br><br>
          <strong>
            SELECT User,Host FROM mysql.user;
          </strong>
        </p>
        <img src="../examples/sql/user-table.png"
          alt="an sql table of users"
        />
        <p>
          Using the keyword GRANT permissions can be assigned to new users. The
          database which contains the table should be in use when GRANT is used.
          <br><br>
          <strong>
            GRANT SELECT ON &#60;table-name&#62;<br>
            TO another_user;
            <br><br>
            GRANT SELECT ON &#60;table-name&#62;(&#60;column-name&#62;)<br>
            TO another_user;
            <br><br>
            GRANT DROP ON &#60;table-name&#62;<br>
            TO another_user;
            <br><br>
            GRANT UPDATE, INSERT, DELETE ON &#60;table-name&#62;<br>
            TO another_user, another_user_1, another_user_2;
            <br><br>
            GRANT ALL ON &#60;table-name&#62;<br>
            TO another_user<br>
            WITH GRANT OPTION;
            <br><br>
            GRANT ALL ON &#60;database-name&#62;.*<br>
            TO another_user;
          </strong>
          <br><br>
          To view the permissions avalible to a user use:<br>
          <strong>SHOW GRANTS FOR another_user;</strong>
          <br><br>
          GRANT provides a good range of control when setting permissons and enables
          multiple users permissons to be set at once. WITH GRANT OPTIONS gives
          users the ability to grant other users pemissions, though they can
          only grant permissions they have access to.
          <br><br>
          In the final example the user is given access to all statments across
          all tables in the given database.
          <br><br>
          REVOKE is the keyword used to remove users pemissions and is used in
          a similar way to GRANT.
          <br><br>
          <strong>
            REVOKE SELECT ON &#60;table-name&#62;<br>
            FROM another_user;
            <br><br>
            REVOKE SELECT ON &#60;table-name&#62;(&#60;column-name&#62;)<br>
            FROM another_user;
            <br><br>
            REVOKE DROP ON &#60;table-name&#62;<br>
            FROM another_user;
            <br><br>
            REVOKE GRANT OPTION ON &#60;table-name&#62;<br>
            FROM another_user;
            <br><br>
            REVOKE SELECT, UPDATE, GRANT OPTION ON &#60;table-name&#62;<br>
            FROM another_user;
          </strong>
          <br><br>
          REVOKE has a similar range of control as GRANT has.
          <br><br>
          <em>
            When revoking the grant option I saw other methods. All but the
            one shown seemed to produce a syntax error (valid tables and user
            names where used).
            <br><br>
            REVOKE GRANT OPTION ON SELECT ON Table FROM another_user;<br>
            #=> ERROR 1064 (42000): You have an error in your SQL syntax; check
            the manual that corresponds to your MySQL server version for the
            right syntax to use near 'SELECT ON car_brands FROM au' at line 1
            <br><br>
            REVOKE GRANT OPTION FOR SELECT ON table FROM another_user;<br>
            #=> ERROR 1064 (42000): You have an error in your SQL syntax; check
            the manual that corresponds to your MySQL server version for the
            right syntax to use near 'FOR SELECT ON table FROM another_user' at
            line 1
          </em>
          <br><br>

          <br><br>
          To delete a user use the following.
          <br><br>
          <strong>
            DROP USER &#60;user-name&#62;
          </strong>
          <br><br>
          (Sources:<br>
          <a href="http://stackoverflow.com/questions/5690260/mysql-logging-in-as-different-user">
            stackoverflow: mysql logging in as different user
          </a><br>
          <a href="https://www.liquidweb.com/kb/create-a-mysql-user-on-linux-via-command-line/">
            liquidweb: Create a MySQL User on Linux via Command Line
          </a><br>
          <a href="http://www.mysqltutorial.org/mysql-revoke.aspx">
            MySQLTutorial: Revoking Privileges From Users Using MySQL REVOKE
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="transactions" class="title-anchor"></div>
      <h2 class="section-header">Transactions</h2>

      <div class="section-content section-text-normal">
        <p>
          A transactions is a set of sql statments which result in a single unit
          of work. Transaction should follow the principals laid out by the
          acronym ACID.
        </p>
        <ul>
          <li>
            <strong>Atomicity</strong>: All operations must be completed. If, for
            any reason, a statment cannot run all actions must be aborted and
            the database rolled back to its state prior to the transaction.
          </li>
          <li>
            <strong>Consistency</strong>: Once a tranaction is complete the
            state of the database must remain consistent. All data written or
            removed must not violate any predefined rules.
          </li>
          <li>
            <strong>Isolation</strong>: This is the ability of two or more
            transaction (that alter similar data) to run concurrently. High
            levels of isolation only allow a single transaction to run. All
            others must wait till the first is done. The lower the level of
            isolation the greater the ability for multiple transaction to access
            and manipulate similar sets of data at the same time.

          </li>
          <li>
            <strong>Durability</strong>: A transaction is durable once it has
            complete and all data has been successfully been commited / become a
            permanent part of the system.
          </li>
        </ul>
        <p>
          The following tables will be used to provide examples.
        </p>
        <img src="../examples/sql/trees_plot_1.png"
          alt="an sql table of trees on a plot of land"
        /><br>
        <img src="../examples/sql/trees_plot_2.png"
          alt="an sql table of trees on a different plot of land"
        /><br>
        <a href="../examples/sql/two-tree-tables.txt">
          View full code to produce these table.
        </a>
        <p>
          Three key statments are used to make tranactions, these are
          <strong>START TRANSACTION</strong>,
          <strong>ROLLBACK</strong> and
          <strong>COMMIT</strong>.
          <br><br>
          START TRANSACTION begins the transaction. Once all statments are
          complete the transaction is ended with either ROLLBACK or COMMIT.
          If issues have arrisen then ROLLBACK should be used to reverse all
          actions. If everything executed as expected the changes should be
          saved with COMMIT.
          <br><br>
          <strong>
            START TRANSACTION;<br>
            INSERT INTO land_plot_1_trees (species)
            VALUES ("ash");<br>
            SELECT * FROM land_plot_1_trees;
          </strong>
        </p>
        <img src="../examples/sql/trees-plot-1-with-ash.png"
          alt="an sql table of trees on a plot of land, including an ash tree "
        />
        <p>
          <strong>
            ROLLBACK;<br>
            SELECT * FROM land_plot_1_trees;
          </strong>
        </p>
        <img src="../examples/sql/trees_plot_1.png"
          alt="an sql table of trees on a plot of land"
        />
        <p>
          If COMMIT was called rather than ROLLBACK "ash" would have been saved.
          <br><br>
          <strong>
            START TRANSACTION;<br>
            INSERT INTO land_plot_1_trees (species)
            VALUES ("ash");<br>
            COMMIT;<br>
            SELECT * FROM land_plot_1_trees;
          </strong>
        </p>
        <img src="../examples/sql/trees-plot-1-with-ash.png"
          alt="an sql table of trees on a plot of land, including an ash tree "
        />
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="https://www.tutorialspoint.com/sql/sql-transactions.htm">
            tutorialspoint: SQL - Transactions
          </a><br>
          <a href="https://en.wikipedia.org/wiki/Consistency_(database_systems)">
            Wikipedia: Consistency (database systems)
          </a><br>
          <a href="https://en.wikipedia.org/wiki/Isolation_(database_systems)">
            Wikipedia: Isolation (database systems)
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="views" class="title-anchor"></div>
      <h2 class="section-header">VIEWS</h2>

      <div class="section-content section-text-normal">
        <p>
          VIEWS allow the storage of queries so that they can be reused multiple
          times with ease. They are considered virtual tables as they may be
          used in the same way tables but only exist when the view is in use.
          <br><br>
          The following tables will be used to provide examples.
        </p>
        <img src="../examples/sql/trees_plot_1.png"
          alt="an sql table of trees on a plot of land"
        /><br>
        <img src="../examples/sql/trees_plot_2.png"
          alt="an sql table of trees on a different plot of land"
        /><br>
        <a href="../examples/sql/two-tree-tables.txt">
          View full code to produce these table.
        </a>
        <p>
          <strong>
            CREATE VIEW all_trees AS<br>
            SELECT species FROM land_plot_1_trees<br>
            UNION<br>
            SELECT species FROM land_plot_2_trees;
          </strong>
          <br><br>
          The method used to create views is shown above. Once created the query, which
          is written after the keyword AS can be used as a subquery simply by
          naming the view.
          <br><br>
          <strong>
            SELECT * FROM all_trees;
          </strong>
        </p>
        <img src="../examples/sql/union-trees-table.png"
          alt="an sql table of trees on two plots of land"
        />
        <p>
          <strong>
            SELECT species FROM all_trees<br>
            WHERE species LIKE "%r" OR species LIKE "%e"<br>
            ORDER BY species DESC;
          </strong>
        </p>
        <img src="../examples/sql/trees-ending-with-e-and-r.png"
          alt="an sql table of trees with the last letter e &#38; r"
        />
        <p>
          VIEWS can also be used to INSERT, UPDATE and DELETE values from the
          table associated with the view. However, this only works if the
          statment is only able to influence a single table.
          <br><br>
          <strong>
            INSERT INTO all_trees (species) VALUES ("bacon tree");<br>
            #=> ERROR 1471 (HY000): The target table all_trees of the INSERT
            is not insertable-into
          </strong>
          <br><br>
          The column species belongs to both tables, which makes it unclear as
          to which table should recive the data. To ensure no errors are raised
          while using INSERT, UPDATE and DELETE with a VIEW use a query that
          only involves one table and including all not null columns that are
          not provided with a default value.
          <br><br>
          VIEWS that are used with INSERT, UPDATE and DELETE can include the key
          phrase <strong>WITH CHECK OPTION</strong>. This will cause any
          conditions place on the query to be adhered to while using INSERT,
          UPDATE or DELETE.
          <br><br>
          <strong>
            CREATE VIEW a_trees AS<br>
            SELECT species FROM land_plot_1_trees<br>
            WHERE species LIKE "a%"<br>
            WITH CHECK OPTION;
          </strong>
          <br><br>
          <strong>
            INSERT INTO a_trees (species)<br>
            VALUES ("ash");<br>
            #=> Query OK, 1 row affected (0.01 sec)
            <br><br>
            INSERT INTO a_trees (species)<br>
            VALUES ("bacon tree");<br>
            #=>ERROR 1369 (HY000): CHECK OPTION failed 'db.a_trees'
            <br><br>
            DELETE FROM a_trees WHERE species = "pine";<br>
            #=>Query OK, <u>0 rows affected</u> (0.00 sec)
            <br><br>
            DELETE FROM a_trees WHERE species = "ash;<br>
            #=>Query OK, <u>1 row affected</u> (0.00 sec)
          </strong>
          <br><br>
          Once a view is finished with it can be deleted.
          <br><br>
          <strong>
            DROP VIEW all_trees;<br>
            DROP VIEW a_trees;
          </strong>
          <br><br>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://stackoverflow.com/questions/7281054/sql-updatable-view-with-joined-tables">
            stackoverflow: SQL Updatable View with joined tables
          </a><br>
          <a href="https://dev.mysql.com/doc/refman/5.6/en/view-check-option.html">
            MySQL documentation: 20.5.4 The View WITH CHECK OPTION Clause
          </a><br>
          <a href="https://dev.mysql.com/doc/refman/5.6/en/view-check-option.html">
            MySQL documentation: 20.5.4 The View WITH CHECK OPTION Clause
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="intersect-expect" class="title-anchor"></div>
      <h2 class="section-header">INTERSECT &#38; EXCEPT</h2>

      <div class="section-content section-text-normal">
        <p>

          <strong>Note</strong>:
          <em>
            These two statements are not supported by MySql but the same results
            can be achived by using IN, as will be shown below
          </em>
          <br><br>
          INTERSECT and EXCEPT work in a similar way to UNION as they connect
          two queries, though each has its difference.
          <br><br>
          <strong>INTERECT</strong>: combines the results of two tables but only
          returns values that are included in both tables.
          <br><br>
          <strong>EXCEPT</strong>: combines the results of two tables but only
          returns values that exist in the first table only. Any values existing
          in both sets of data will not be returned.
          <br><br>
          The following tables will be used to provide examples.
        </p>
        <img src="../examples/sql/trees_plot_1.png"
          alt="an sql table of trees on a plot of land"
        /><br>
        <img src="../examples/sql/trees_plot_2.png"
          alt="an sql table of trees on a different plot of land"
        /><br>
        <a href="../examples/sql/two-tree-tables.txt">
          View full code to produce these table.
        </a>
        <p>
          <strong>
            SELECT species FROM land_plot_1_trees<br>
            INTERSECT<br>
            SELECT species FROM land_plot_2_trees;
          </strong>
          <br><br>
          or in mysql
          <br><br>
          <strong>
            SELECT species<br>
            FROM land_plot_1_trees<br>
            WHERE species IN (SELECT species FROM land_plot_2_trees);
          </strong>
        </p>
        <img src="../examples/sql/trees-intersect.png"
          alt="an sql table of trees on two plots of land"
        />
        <p>
          <strong>
            SELECT species FROM land_plot_1_trees<br>
            EXCEPT<br>
            SELECT species FROM land_plot_2_trees;
          </strong>
          <br><br>
          or in mysql
          <br><br>
          <strong>
            SELECT species<br>
            FROM land_plot_1_trees<br>
            WHERE species NOT IN (SELECT species FROM land_plot_2_trees);
          </strong>
        </p>
        <img src="../examples/sql/trees-except.png"
          alt="an sql table of trees on two plots of land"
        />
        <p>
          <em>
            INTERSECT and EXCEPT were tested in SQLite. The only difference in the results
            was the order in which EXCEPT returned values, which was alder, holly, juniper.<br>
            SQLite tests done with
            <a href="https://www.codecademy.com/en/courses/learn-sql/lessons/manipulation/exercises/create">
              codecademy.
            </a>
          </em>
          <br><br>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="union" class="title-anchor"></div>
      <h2 class="section-header">UNION</h2>

      <div class="section-content section-text-normal">
        <p>
          The keyword UNION combines the result of multiple queries and
          returns a single table.
          <br><br>
          The following tables will be used to provide examples.
        </p>
        <img src="../examples/sql/trees_plot_1.png"
          alt="an sql table of trees on a plot of land"
        /><br>
        <img src="../examples/sql/trees_plot_2.png"
          alt="an sql table of trees on a different plot of land"
        /><br>
        <a href="../examples/sql/two-tree-tables.txt">
          View full code to produce these table.
        </a>
        <p>
          <strong>
            SELECT species FROM land_plot_1_trees<br>
            UNION<br>
            SELECT species FROM land_plot_2_trees;
          </strong>
          <br><br>
          UNION combines the results into a single table and removes all
          duplicates.
        </p>
        <img src="../examples/sql/union-trees-table.png"
          alt="an sql table of trees on two plots of land"
        />
        <p>
          <strong>
            SELECT species FROM land_plot_1_trees<br>
            UNION<br>
            SELECT species FROM land_plot_2_trees<br>
            ORDER BY species;
          </strong>
          <br><br>
          If the results should be ordered the statement must be made
          after both queries.
        </p>
        <img src="../examples/sql/union-trees-table-ordered.png"
          alt="an sql table of trees on two plots of land and ordered"
        />
        <p>
          <strong>
            SELECT species FROM land_plot_1_trees<br>
            UNION ALL<br>
            SELECT species FROM land_plot_2_trees<br>
            ORDER BY species;
          </strong>
          <br><br>
          UNION ALL stops the removal of duplicates.
        </p>
        <img src="../examples/sql/union-all-trees.png"
          alt="an sql table of all trees on two plots of land"
        />
        <p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="returning" class="title-anchor"></div>
      <h2 class="section-header">RETURNING</h2>

      <div class="section-content section-text-normal">
        <p>
          <em>
            RETURNING works with PostgreSQL but may not be
            compatable with others database systems.
          </em>
        </p>
        <p>
          <em>
            The following table will be used to provide examples.
          </em>
        </p>
        <p>
          <b>
            CREATE TABLE people(<br>
            &#160;&#160;id SERIAL2 PRIMARY KEY,<br>
            &#160;&#160;name VARCHAR(255),<br>
            &#160;&#160;age INT2<br>
            );
          </b>
        </p>

        <p>
          The key word keyword RETURNING can be used with INSERT, UPDATE and
          DELETE statments to return a table of the altered rows.
        </p>

        <p>
          <b>
            INSERT INTO people (name, age)
            VALUES
            ('Tommy', 40),
            ('Mia', 32)
            RETURNING *;
          </b>
        </p>

        <img src="../examples/sql/returning_examples/return_from_insert.png"/>

        <p>
          <b>
            UPDATE people SET age = 5
            RETURNING name, age;
          </b>
        </p>

        <img src="../examples/sql/returning_examples/return_from_update.png"/>

        <p>
          <b>
            DELETE FROM people
            RETURNING id, name;
          </b>
        </p>

        <img src="../examples/sql/returning_examples/return_from_delete.png"/>

        <p>
          The returned table may also be used in statments.
        </p>

        <p>
          <b>
            WITH new_people AS (<br>
            &#160;&#160;INSERT INTO people (name, age)<br>
            &#160;&#160;VALUES<br>
            &#160;&#160;('Tommy', 40),<br>
            &#160;&#160;('Mia', 32)<br>
            &#160;&#160;RETURNING *<br>
            ) SELECT * FROM new_people WHERE age = 32;
          </b>
        </p>

        <p>
          (Sources:<br>
          <a href="https://www.postgresql.org/docs/9.5/static/dml-returning.html">
            PostgreSQL docs: Returning Data From Modified Rows
          </a><br>
          <a href="https://www.postgresql.org/docs/9.5/static/sql-insert.html">
            PostgreSQL docs: INSERT
          </a>)
        </p>
        <p><em>Updated: 11/06/2017</em></p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="self-join" class="title-anchor"></div>
      <h2 class="section-header">Self Referencing Join</h2>

      <div class="section-content section-text-normal">
        <p>
          Self referencing join work in the same way as inner joins, only the
          primary key and foreign key used to connect the data both exists in
          one table.
          <br><br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/rock_paper_scissors.png"
          alt="an sql table of the winning move in rock, paper, scissors"
        /><br>
        <a href="../examples/sql/rock_paper_scissors.txt">
          View full code to produce this table.
        </a>
        <p>
          <strong>
            SELECT t1.move, t2.move AS counter<br>
            FROM rock_paper_scissors AS t1 INNER JOIN<br>
            rock_paper_scissors AS t2<br>
            ON t1.move_id = t2.counter_move_id;
          </strong>
        </p>
          <img src="../examples/sql/rock_paper_scissors_join.png"
            alt="an sql table of the winning move in rock, paper, scissors"
          /><br>
          <p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="subquery" class="title-anchor"></div>
      <h2 class="section-header">Subquery</h2>

      <div class="section-content section-text-normal">
        <p>
          A subquery is a query nested within another sql statment and allows
          its user to perform actions with the results of the subquery as a
          comparator or source of data.
          <br><br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/people-car-brands-table.png"
          alt="an sql table containing a list of ten names and the id of cars driven"
        /><br>
        <img src="../examples/sql/car-brands-table.png"
          alt="an sql table of car brands"
        /><br>
        <a href="../examples/sql/names-car-makes-tables.txt">
          View full code to produce tables.
        </a>
        <p>
          The following query joins the two tables
          <br><br>
          <strong>
            SELECT people.first_name, people.last_name, car_brands.car_brand<br>
            FROM people INNER JOIN car_brands<br>
            ON car_brand_id = brand_id<br>
            WHERE people.car_brand_id = (<br>
                  &#160;&#160;&#160;&#160;SELECT car_brands.brand_id<br>
                  &#160;&#160;&#160;&#160;FROM car_brands<br>
                  &#160;&#160;&#160;&#160;WHERE car_brand = 'mini'<br>
                  &#160;&#160;&#160;&#160;);
          </strong>
        </p>
        <img src="../examples/sql/mini-drivers-table.png"
          alt="an sql table containing a list of ten names and the id of cars driven"
        /><br>
        <p>
          Subqueries can also be used as columns
          <br><br>
          <strong>
            select people.first_name, people.last_name,<br>
            (SELECT car_brands.car_brand<br>
            FROM car_brands<br>
            WHERE people.car_brand_id = car_brands.brand_id) AS brand<br>
            FROM people;
          </strong>
        </p>
        <img src="../examples/sql/car-brands-owners.png"
          alt="an sql table containing a list of ten names and the cars driven"
        />
        <p>
          Subqueries can be used alongside other key words such as INSERT and
          DELETE.
          <br><br>
          <strong>
            INSERT INTO animal_populations (animal_id, population, endangered)<br>
            VALUES<br>
            ((SELECT animal_id<br>
            FROM animals<br>
            WHERE species = "rat"),<br>
            1500000, false),<br>
            ((SELECT animal_id<br>
            FROM animals<br>
            WHERE species = "jaguar"),<br>
            15000, true);
          </strong>
          <br><br>
          <a href="../examples/sql/animal-pop-table.txt">
            View full statment based around previous example.
          </a>
          <br><br>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="many-to-many-join" class="title-anchor"></div>
      <h2 class="section-header">Inner Join With Many to Many Relationship</h2>

      <div class="section-content section-text-normal">
        <p>
          Joins can be done between multiple tables at once. In cases where
          three tables are used to create a many-to-many relationship multiple
          joins enable the combination of the main two tables into one.
        </p>

        <p><em>The following tables will be used as examples.</em></p>

        <p><b><u>Customers</u></b></p>
        <img src="../examples/sql/cinema_tables/customers_table.png"/>
        <p><b><u>Tickets</u></b></p>
        <img src="../examples/sql/cinema_tables/tickets_table.png"/>
        <p><b><u>Screenings</u></b></p>
        <img src="../examples/sql/cinema_tables/screenings_table.png"/>
        <p><b><u>Films</u></b></p>
        <img src="../examples/sql/cinema_tables/films_table.png"/>
        <p>
          <a href="../examples/sql/cinema_tables/cinema_tables_code.txt">
            View code to produce tables
          </a>
        </p>

        <p>
          The tables customers and screenings have a many to many relationship
          and use the table tickets as an intermediary. Using a single join the
          customers can be paired with the screening_id and the screenings can
          be pair with the customer_id. If additional joins are used in one
          statement the customers table can be paired with the screenings table
          in order to show the screening time each customer will attend.
        </p>

        <p>
          <b>
            SELECT customers.name, screenings.show_time FROM customers<br>
            INNER JOIN tickets<br>
            ON customers.id = tickets.customer_id<br>
            INNER JOIN screenings<br>
            ON tickets.screening_id = screenings.id;
          </b>
        </p>

        <img src="../examples/sql/cinema_tables/customers_screenings_join.png"/>

        <p>
          This can be done with many tables. For example the customers table may
          be linked to the films table in order to display which films each
          customer is going to see.
        </p>

        <p>
          <b>
            SELECT customers.name, films.title, screenings.show_time FROM customers<br>
            INNER JOIN tickets<br>
            ON customers.id = tickets.customer_id<br>
            INNER JOIN screenings<br>
            ON tickets.screening_id = screenings.id<br>
            INNER JOIN films<br>
            ON screenings.film_id = films.id<br>
            ORDER BY customers.name;
          </b>
        </p>

        <img src="../examples/sql/cinema_tables/customers_films_join.png"/>

        <p><em>Updated: 10/06/2017</em></p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="outer-join" class="title-anchor"></div>
      <h2 class="section-header">Outer Join</h2>

      <div class="section-content section-text-normal">
        <p>
          Outer joins take all the values of one table and match them to another
          table based on a given condition. They are similar to inner joins
          but they will return all values of one table even if there is no match
          (instead null will be returned).
          <br><br>
          Outer joins can either be a left outer join or a right outer join.
          Lefts use all the values of the table named prior to the statment
          "LEFT OUTER JOIN" and right use all the values after the statment
          "RIGHT OUTER JOIN"
          <br><br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/names-car-brands-with-missing-brands.png"
          alt="an sql table containing a list of ten names and the id of cars driven"
        /><br>
        <img src="../examples/sql/car-brands-table.png"
          alt="an sql table of car brands"
        /><br>
        <a href="../examples/sql/names-car-makes-with-nulls-tables.txt">
          View full code to produce tables.
        </a>
        <p>
          <strong>
            SELECT ppl.first_name, ppl.last_name, car.car_brand<br>
            FROM people ppl LEFT OUTER JOIN car_brands car<br>
            ON ppl.car_brand_id = car.brand_id;
          </strong>
          <br><br>
          <img src="../examples/sql/l-outer-join-car-brands.png"
            alt="an sql table containing a list of ten names and the cars driven"
          /><br>
        </p>
        <p>
          <strong>
            SELECT ppl.first_name, ppl.last_name, car.car_brand<br>
            FROM people ppl RIGHT OUTER JOIN car_brands car<br>
            ON ppl.car_brand_id = car.brand_id;
          </strong>
          <br><br>
          <img src="../examples/sql/r-outer-join-car-brands.png"
            alt="an sql table containing a list of ten names and the cars driven"
          /><br>
        </p>
        <p>
          The first example is a left outer join, which matches all the values
          of the table prior to the join statment (<u>people ppl</u> LEFT OUTER
          JOIN car_brands car) to all values that match the given condition in
          the other table.
          <br><br>
          The second example is a right outer join, which matches all the values
          of the table after to the join statment (people ppl LEFT OUTER
          JOIN <u>car_brands car</u>) to all values that match the given condition
          in the other table.
          <br><br>
          In the second example two values from the table car_brands (renault
          and vauxhall) do not match and values from the people table. As it is
          the right table in a right outer join null values are returned to show
          there were no matches.
        </p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="inner-join" class="title-anchor"></div>
      <h2 class="section-header">INNER JOIN</h2>

      <div class="section-content section-text-normal">
        <p>
          Inner joins connects two tabes that have comparable columns.
          <br><br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/people-car-brands-table.png"
          alt="an sql table containing a list of ten names and the id of cars driven"
        /><br>
        <img src="../examples/sql/car-brands-table.png"
          alt="an sql table of car brands"
        /><br>
        <a href="../examples/sql/names-car-makes-tables.txt">
          View full code to produce tables.
        </a>
        <p>
          The following query is an equijoin, which uses the = operator to match
          the primary key of one table to the foreign key of another.
          <br><br>
          <strong>
            SELECT people.first_name, people.last_name, car_brands.car_brand<br>
            FROM people INNER JOIN car_brands<br>
            ON people.car_brand_id = car_brands.brand_id;
          </strong>
        </p>
        <img src="../examples/sql/inner-join-car-brands.png"
          alt="an sql table containing a list of ten names and the brand of cars each person drives"
        />
        <p>
        <p>
          The non-equijoin (as show below), which uses the &#60;&#62; operator
          to find all instances where the primary key of one table does not match
          the foreign key of another.
          <br><br>
          <strong>
            SELECT people.first_name, people.last_name, car_brands.car_brand<br>
            FROM people INNER JOIN car_brands<br>
            ON people.car_brand_id &#60;&#62; car_brands.brand_id<br>
            ORDER BY people.first_name<br>
            LIMIT 10;
          </strong>
          <br><br>
          <em>
            This table has been limited to ten rows due to the size of the
            resultant table, but the result is apparent.
          </em>
        </p>
        <img src="../examples/sql/car-brand-non-equijoin.png"
          alt="an sql table containing a list of ten names and the brand of cars each person drives"
        />
        <p>
        <p>
          The natural join works in the same ways as the equijoin but with
          simpler syntax. It only works however when the row in each table that
          are to be compared have the same name.
          <br><br>
          <strong>
            SELECT people.first_name, people.last_name, car_brands.car_brand<br>
            FROM people NATURAL JOIN car_brands<br>
            brand_id;
          </strong>
          <br><br>
          <em>
            The privious assumes car_brand_id in the table people is named
            brand_id and would only work if this was the case.
          </em>
          <br><br>
          (Sources:<br>
          Head First SQL
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="as" class="title-anchor"></div>
      <h2 class="section-header">AS and Aliases</h2>

      <div class="section-content section-text-normal">
        <p>
          The keyword AS is used to create aliases for column names while
          writting queries.
          <br><br>
          The following table will be used to provide examples.
        </p>
          <img src="../examples/sql/people-without-id-table.png"
            alt="table containing a list of people with columns for name, age and gender"/><br>
          <a href="../examples/sql/people-without-id-table.txt">
            View full code to produce table.
          </a>
        <p>
          <strong>
            SELECT first_name AS name FROM people;
          </strong>
        </p>
        <img src="../examples/sql/name-table.png"
          alt="table containing a list of peoples names"/><br>
        <p>
          Tables produced with aggregate functions can also be given aliases.
          <br><br>
          <strong>
            SELECT AVG(age) AS average_age FROM people;
          </strong>
        </p>
        <img src="../examples/sql/average-age-aliases-table.png"
          alt="table containing a list of peoples names"/><br>
        <p>
          AS can create aliase name for tables as well as columns
          <br><br>
          <strong>
            SELECT first_name FROM people AS peeps;
          </strong>
          <br><br>
          Another use of AS enables the population of new tables columns with
          the results of a query.
          <br><br>
          <strong>
            CREATE TABLE names(<br>
              &#160;&#160;name_id INT NOT NULL AUTO_INCREMENT,<br>
              &#160;&#160;first_name VARCHAR(50),<br>
              &#160;&#160;last_name VARCHAR(50),<br>
              &#160;&#160;PRIMARY KEY(name_id)<br>
            ) AS <br>
            SELECT first_name, last_name FROM people;
          </strong>
        </p>
        <img src="../examples/sql/names-from-as-table.png"
          alt="table containing a list of peoples names"/><br>
        <p>
        <p>
          If the column names in the created table do not match with the column
          names in the query new columns to match the query names will be
          created. Column names in the query can be given aliases though. If an
          aliases name matches a column name in the new table the data will be
          placed in the matching column.
          <br><br>
          <strong>
            CREATE TABLE names(<br>
              &#160;&#160;name_id INT NOT NULL AUTO_INCREMENT,<br>
              &#160;&#160;f_name VARCHAR(50),<br>
              &#160;&#160;l_name VARCHAR(50),<br>
              &#160;&#160;PRIMARY KEY(name_id)<br>
            ) AS <br>
            SELECT first_name AS f_name, last_name AS l_name FROM people;
          </strong>
        </p>
        <img src="../examples/sql/name-from-as-aliase-table.png"
          alt="table containing a list of peoples names"/><br>
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://www.1keydata.com/sql/sql-as.html">
            1KeyData: SQL AS
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="normal-form" class="title-anchor"></div>
      <h2 class="section-header">Normal Form</h2>

      <div class="section-content section-text-normal">
        <p>
          Databases and tables are said to be normal when the adhere to a
          number predefined design choices. These are aimed at reducing the
          possibility of common issues such as duplicate data and anomalous
          data, which in turn increases the speed of queries and makes data
          easier to work with.
          <br><br>
          <strong>First Normal Form (1NF)</strong>: is achieved when each column
          in a table only has a single value (data is atomic) and each row has
          an assoiated primary key (single or composite).
          <br><br>
          <strong>Second Normal Form (2NF)</strong>: is when a table is in 2NF
           and also does not have any partial functional dependencies.
          <br><br>
          A partial functional dependencies is when a column that is not part
          of the primary key is dependant on some, but not all, of the columns
          that make up the primary key. partial functional dependencies can only
          exist in tables with composite keys. A table with a single column as a
          primary key is automatically in 2NF, as long as it conforms to 1NF.
          <br><br>
          <strong>Third Normal Form (3NF)</strong>: occurs when a table is in
          2NF and also has no transitive dependencies.
          <br><br>
          A transitive dependencies is when a column that does not make up the
          primary key is dependant on another column that does not make up the
          primary key.
          <br><br>
          In order to achive normal table must be broken down and one-one,
          one-many and many-many relationships should be created between them.
          For examples and more detail view:
          <a href="../examples/sql/normal-form-explanation.pdf">
          PDF
          </a> |
          <a href="http://www.studytonight.com/dbms/database-normalization.php">
            Website
          </a>
          <br><br>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://www.studytonight.com/dbms/database-normalization.php">
            Studytonight: Normalization of Database
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="table-relationships" class="title-anchor"></div>
      <h2 class="section-header">Table Relationships</h2>

      <div class="section-content section-text-normal">
        <p>
          In order to effectivly manage data multiple tables are used and when
          tables shares data they become related to each other. There are a
          number of different relationships tables can have between one another.
          These include:
          <br><br>
          <strong>
            one to one (1-1)<br>
            one to many (1-M)<br>
            many to many (M-M)
          </strong>
          <br><br>
          <strong>one to one</strong> is when two tables share data but only
          have a single matching record.
        </p>
        <img src="../examples/sql/name-only-table-img.png"
          alt="an sql table containing a list of ten names"
        /><br>
        <img src="../examples/sql/licence-plate-table.png"
          alt="an sql table with a foreign key from the table people"
        /><br>
        <a href="../examples/sql/foreign-key-plates-table.txt">
          View full code to produce tables.
        </a>
        <p>
          The previous example shows two tables. One of people and the other of
          licence plate codes. These tables have a one to one relationship as
          only one person can be the registered keeper of a car.
          <br><br>
          <strong>one to many</strong> is when one of the two tables involved in
          a relationship will have multiple matching records while the other
          will only have a single matching record.
        </p>
        <img src="../examples/sql/people-car-brands-table.png"
          alt="an sql table containing a list of ten names and the id of cars driven"
        /><br>
        <img src="../examples/sql/car-brands-table.png"
          alt="an sql table of car brands"
        /><br>
        <a href="../examples/sql/names-car-makes-tables.txt">
          View full code to produce tables.
        </a>
        <p>
          The first table shown is a set of people who own one car, the second
          is the possible brands of car they may own. As many people may own the
          same brand of car rows in the brands table match to multiple people
          but each person can only match to the brand of car they own.
          <br><br>
          <strong>many to many</strong> is when both tables have multiple
          matching rows. In order to avoid duplicate records a junction table is
          need.
        </p>
        <img src="../examples/sql/names-table-2.png"
          alt="an sql table containing a list of ten names and the id of cars driven"
        /><br>
        <img src="../examples/sql/car-brands-table.png"
          alt="an sql table of car brands"
        /><br>
        <img src="../examples/sql/mutil-people-car-brands-table.png"
          alt="an sql table of car brands"
        /><br>
        <a href="../examples/sql/names-multi-car-makes-tables.txt">
          View full code to produce tables.
        </a>
        <p>
          In this example each person owns one or more cars. Due to this each
          row from the first two table can be matched multiple times. The third
          table, which has a one to many relationship with both of the other
          tables acts as a junction between the two to avoid duplicate records.
        </p>
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://www.tech-recipes.com/rx/56738/one-to-one-one-to-many-table-relationships-in-sql-server/">
            tech recipes: One-to-One, One-to-Many Table Relationships in SQL
            Server
          </a><br>
          <a href="https://megocode3.wordpress.com/2008/01/04/understanding-a-sql-junction-table/">
            Coding Notes: Understanding a SQL Junction Table
          </a><br>
          <a href="http://www.singingeels.com/Articles/Understanding_SQL_Many_to_Many_Relationships.aspx">
            singingeels: Understanding SQL: Many to Many Relationships
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="foreign-keys" class="title-anchor"></div>
      <h2 class="section-header">Foreign Keys</h2>

      <div class="section-content section-text-normal">
        <p>
          Foreign keys are a way of creating a relationship between two tables.
          They are references to columns in other tables which contain unique
          values (commonly primary key but not always) and are used to ensure
          columns only contains a single value (thereby making data atomic).
          <br><br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/name-only-table-img.png"
          alt="an sql table containing a list of ten names"
        /><br>
        <a href="../examples/sql/names-only-table.txt">
          View full code to produce table.
        </a>
        <p>
          Foreign keys are created and assigned in a similar way to primary keys
          during the creation of a table. The key word CONSTRAINT is used to
          connect the tables and specify the column in the inital table which
          the foreign key will draw from. Using this key word means the specified
          column in the new table may only hold data found the specified column
          of the inital table.
          <br><br>
          <strong>
            CREATE TABLE licence_plate(<br>
            &#160;&#160;plate_id INT NOT NULL AUTO_INCREMENT,<br>
            &#160;&#160;code CHAR(8),<br>
            &#160;&#160;person_id INT NOT NULL UNIQUE,<br>
            &#160;&#160;PRIMARY KEY(plate_id),<br>
            &#160;&#160;CONSTRAINT people_person_id_fk<br>
            &#160;&#160;FOREIGN KEY (person_id)<br>
            &#160;&#160;REFERENCES people (person_id)<br>
            );
          </strong>
          <br><br>
          <em>
            The keyword UNIQUE was used on person_id as in this case the
            person should not be duplicated in this column. This is not always
            required and depends on the relationship.
            <br><br>
            CONSTRAINT people_person_id_fk FOREIGN KEY (person_id)
            REFERENCES people (person_id) - This set of statments is one line,
            if multiple foreign keys were needed a comma should be placed
            at the end and a new CONSTRAINT, FOREIGN KEY and REFERENCES should
            be defined for the next foreign key. The order should also be
            maintained.
          </em>
          <br><br>
          Once the table is created we can add values based on the other table.
        </p>
        <img src="../examples/sql/licence-plate-table.png"
          alt="an sql table with a foreign key from the table people"
        /><br>
        <a href="../examples/sql/foreign-key-plates-table.txt">
          View full code to produce table.
        </a>
        <p>
          The relationship between these two tables is known as a one to one.
          <a href="#table-relationships">
            View the Table Relationships sections for more.
          </a>
        </p>
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://stackoverflow.com/questions/24029620/what-is-atomicity-in-dbms">
            stackoverflow: What is atomicity in dbms
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="limit" class="title-anchor"></div>
      <h2 class="section-header">LIMIT</h2>

      <div class="section-content section-text-normal">
        <p>
          The keyword LIMIT is used to limit and control the number of results
          returned and from which row to begin returning results from. LIMIT can
          be given a single parameter or two parameters.<br><br>
          A single parameter
          determines how many rows, starting from and including the first, to
          return. Two parameter provides more control. The first defines the
          start position (the first row in the table is position 0) and the
          seconds states how many rows, including the first, to return.
          <br><br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/people-table-without-id-ordered.png"
          alt="table used to provide examples of WHERE statment"
        /><br>
        <a href="../examples/sql/people-without-id-ordered-table.txt">
          View full code to produce table.
        </a>
        <p>
          <strong>
            SELECT first_name, last_name, age FROM people ORDER BY age LIMIT 3;
          </strong>
        </p>
        <img src="../examples/sql/LIMIT-no-param.png"
          alt="table used to provide examples of LIMIT statment without parameters"
        /><br>
        <p>
          <strong>
            SELECT first_name, last_name, age FROM people ORDER BY age LIMIT 3, 3;
          </strong>
        </p>
        <img src="../examples/sql/LIMIT-with-param.png"
          alt="table used to provide examples of LIMIT statment with parameters"
        /><br>
        <p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="distinct" class="title-anchor"></div>
      <h2 class="section-header">DISTINCT: return unique values</h2>

      <div class="section-content section-text-normal">
        <p>
          The keyword DISTINCT is used to identify unique sets of data in a
          column.
          <br><br>
          The following table will be used to provide examples.
        </p>
          <img src="../examples/sql/population-table.png"
            alt="table used to show UPDATE using CASE"
          /><br>
          <a href="../examples/sql/population-table.txt">View full code to produce table.</a>
        <p>
          <strong>
            SELECT DISTINCT hemisphere FROM populations;
          </strong>
        </p>
        <img src="../examples/sql/DISTINCT-img.png" alt="table used to show DISTINCT key word"/><br>
        <p>
          <strong>
            SELECT COUNT(DISTINCT hemisphere) FROM populations;
          </strong>
        </p>
        <img src="../examples/sql/DISTINCT-with-count-img.png" alt="table used to show DISTINCT key word used with COUNT"/><br>
        <p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="aggregate-functions" class="title-anchor"></div>
      <h2 class="section-header">Aggregate Functions</h2>

      <div class="section-content section-text-normal">
        <p>
          Aggregate functions take all the values returned by a select
          statment and combine them in different ways, depending on the function
          used.
          <br><br>
          The following table will be used to provide examples.
        </p>
          <img src="../examples/sql/population-table.png" alt="table used to show UPDATE using CASE"/><br>
          <a href="../examples/sql/population-table.txt">View full code to produce table.</a>
        <p>
          SUM(column_name): Adds all returned values.
          <br><br>
          <strong>
            SELECT SUM(population_per_million) FROM populations;
          </strong>
        </p>
        <img src="../examples/sql/SUM-img.png" alt="table used to show SUM function"/>
        <p>
          AVG(column_name): Finds the mean average of all the provided values.
          <br><br>
          <strong>
            SELECT AVG(population_per_million) FROM populations;
          </strong>
        </p>
        <img src="../examples/sql/AVG-img.png" alt="table used to show AVG function"/>
        <p>
          MIN(column_name): Finds the smallest of all the provided values.
          <br><br>
          <strong>
            SELECT MIN(population_per_million) FROM populations;
          </strong>
        </p>
        <img src="../examples/sql/MIN-img.png" alt="table used to show MIN function"/>
        <p>
          MAX(column_name): Finds the largest of all the provided values.
          <br><br>
          <strong>
            SELECT MAX(population_per_million) FROM populations;
          </strong>
        </p>
        <img src="../examples/sql/MAX-img.png" alt="table used to show MAX function"/>
        <p>
          COUNT(column_name): counts the number of rows in a column
          (null values do not count).
          <br><br>
          <strong>
            SELECT COUNT(population_per_million) FROM populations;
          </strong>
        </p>
        <img src="../examples/sql/COUNT-img.png" alt="table used to show COUNT function"/>
        <p>
          The GROUP BY statment is used along side aggregate functions to find
          outputs produced by certain defined groups of data rather than the
          ouput produced by all data in a column.
          <br><br>
          <strong>
            SELECT hemisphere, SUM(population_per_million) FROM populations GROUP BY
            hemisphere;
          </strong>
        </p>
        <img src="../examples/sql/group_by_sum.png" alt="table used to show GROUP BY KEY WORD"/>
        <p>
          <strong>
            SELECT hemisphere, COUNT(population_per_million) FROM populations GROUP BY
            hemisphere;
          </strong>
        </p>
        <img src="../examples/sql/group-by-count.png" alt="table used to show COUNT function with GROUP BY"/>
        <p>
          (Sources:<br>
          Head First SQL
          <a href="http://www.sqlcourse2.com/agg_functions.html">
            sqlcourse2: Aggregate Functions
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="update-case" class="title-anchor"></div>
      <h2 class="section-header">UPDATE with CASE</h2>

      <div class="section-content section-text-normal">
        <p>
          The key word CASE can be used with UPDATE in order to update a number
          of recorders based on different conditions.
          <br><br>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/update-case-initial-table.png" alt="table used to show UPDATE using CASE"/><br>
        <a href="../examples/sql/update-case-example-table.txt">View full code to produce table.</a>
        <p>
          Case combines multiple update statments into one larger statment. When
          the condition is met the row to be updated is given the corosponding
          value. If multiple conditions equate to true the first in the list of
          WHEN statments will be used and if no condition is met the value
          matched with the ELSE statment is used (ELSE is optional).
          <br><br>
          <strong>
            UPDATE people<br>
            SET stage_of_life = CASE<br>
            &#160;&#160;WHEN age BETWEEN 0 AND 1 THEN 'baby'<br>
            &#160;&#160;WHEN age BETWEEN 2 AND 17 THEN 'child'<br>
            &#160;&#160;WHEN age &#62;= 18 THEN 'adult'<br>
            &#160;&#160;ELSE 'not alive'<br>
            END;
          </strong>
        </p>
        <img src="../examples/sql/update-case-result-table.png" alt="table used to show results of UPDATE using CASE"/><br>
        <p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="string-functions" class="title-anchor"></div>
      <h2 class="section-header">String Functions</h2>

      <div class="section-content section-text-normal">
        <p>
          String function are used in sql to manipulate input and return a new
          output. Only a few are shown here to give an example of how string
          functions are used with SELECT, UPDATE and DELETE. For a longer list
          view this
          <a href="../examples/sql/sql-string-functions.pdf">
            pdf</a> or
          <a href="https://www.tutorialspoint.com/sql/sql-string-functions.htm#function_insert">
            website</a>.
          <br><br>
          The following table will be used to provide examples. Any changes made
          to the table will carry to the next example.
        </p>
        <img src="../examples/sql/primary-key-table.png" alt="table used to show string functions"/><br>
        <a href="../examples/sql/primary-key-table-creation.txt">View full code to produce table.</a>
        <p>
          LENGTH(string): used to return the length of a string;
          <br><br>
          <strong>
            SELECT LENGTH(first_name) FROM people;
          </strong>
        </p>
        <img src="../examples/sql/length-table.png" alt="example of LENGTH function"/>
        <p>
          LOCATE(stringToFind, stringToCheck): used to find the first index at
          which stringToFind occurs in stringToCheck (first char is in position
          1 not 0).
          <br><br>
          <strong>
            SELECT LOCATE('r', first_name) FROM people;
          </strong>
        </p>
        <img src="../examples/sql/locate-table.png" alt="example of LOCATE function"/>
        <p>
          SUBSTRING_INDEX(stringToUse, stringToLocate, occuranceToUse):
          used to return a substring of stringToUse. The returned string
          will contain all characters prior to the  n<sup>th</sup> occurance
          (as specified by occuranceToUse) of stringToLocate. <br>
          If stringToLocate is not found in stringToAlter the entire string is
          returned (unless other conditions are also stated as in the example).
          <br><br>
          <strong>
            SELECT SUBSTRING_INDEX(first_name, 'r', 1) FROM people WHERE LOCATE('r', first_name) &#62; 0;
          </strong>
        </p>
        <img src="../examples/sql/sub-index-table.png" alt="example of SUBSTRING_INDEX function"/>
        <p>
          UPPER(stringToUse): Make all characters upper case.
          <br><br>
          <strong>
            UPDATE people SET last_name = UPPER(last_name) WHERE LENGTH(last_name) >= 6;
          </strong>
        </p>
        <img src="../examples/sql/upper-table.png" alt="example of UPPER function"/>
        <p>
          RIGHT(stringToUse, numberOfChars): Returns a string containing the
          right most characters. The number of characters returned depends on
          numberOfChars.
          <br><br>
          REVERSE(stringToUse): Returns the given string with all characters in
          reverse order.
          <br><br>
          <strong>
            DELETE FROM people WHERE RIGHT(REVERSE(first_name), 1) = 'm';
          </strong>
        </p>
        <img src="../examples/sql/reverse-right-table.png" alt="example of REVERSE function and RIGHT function"/>
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="https://www.tutorialspoint.com/sql/sql-string-functions.htm">
            tutorialspoint: SQL - String Functions
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="alter" class="title-anchor"></div>
      <h2 class="section-header">ALTER</h2>

      <div class="section-content section-text-normal">
        <p>
          The key word alter is used to make changes to all aspects of a table.
          <br><br>
          The following table will be used to provide examples. Any changes made
          to the table will carry to the next example.<br>
        </p>
        <img src="../examples/sql/table-to-alter.png" alt="table to be altered"/><br>
        <a href="../examples/sql/table-to-alter-code.txt">
          View the code to make the table.
        </a>
        <p>
          Change the name of the table:
          <br><br>
          <strong>
            ALTER TABLE peeps RENAME TO people;
          </strong>
          <br><br>
          Add new columns onto the table:
          <br><br>
          <strong>
            ALTER TABLE people ADD COLUMN phone_number VARCHAR(11);
          </strong>
          <br><br>
          Add new columns onto the table and control their position:
          <br><br>
          <strong>
            ALTER TABLE people ADD COLUMN person_number INT FIRST;<br>
          </strong>
          <em>
            In place of FIRST the key words LAST, BEFORE and AFTER may be
            used.
          </em>
          <br><br>
          Make changes to existing columns:
          <br><br>
          <strong>
            ALTER TABLE people <br>
            CHANGE COLUMN person_number person_id INT NOT NULL AUTO_INCREMENT,<br>
            ADD PRIMARY KEY (person_id);
          </strong>
          <br><br>
           Modify existing columns:
          <br><br>
          <strong>
            ALTER TABLE people MODIFY COLUMN phone_number INT(11);
          </strong>
          <br><br>
            Drop column from the table:
          <br><br>
          <strong>
            ALTER TABLE people DROP COLUMN phone_number;
          </strong>
          <br><br>
            Commands may also be chained together:
          <br><br>
          <strong>
            ALTER TABLE people <br>
            CHANGE COLUMN f_name first_name VARCHAR(50),<br>
            CHANGE COLUMN l_name last_name VARCHAR(50);
          </strong>
          <br><br>
            The resultant table after these commands is shown below.
        </p>
        <img src="../examples/sql/finished-altered-table.png" alt="table to be altered"/><br>
        <p>
          (Sources:<br>
          Head First sql)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="composite-keys" class="title-anchor"></div>
      <h2 class="section-header">Composite Keys</h2>

      <div class="section-content section-text-normal">
        <p>
          A composite key is the use of two or more columns, which when combined
          are unique in the table, to identify each row. The columns that make up
          the composite key are together a primary key.
          <br><br>
          <strong>
            CREATE TABLE people(<br>
            &#160;&#160;first_name VARCHAR(50),<br>
            &#160;&#160;middle_name VARCHAR(50),<br>
            &#160;&#160;last_name VARCHAR(50),<br>
            &#160;&#160;age INT,<br>
            &#160;&#160;gender VARCHAR(1),<br>
            &#160;&#160;PRIMARY KEY (first_name, middle_name, last_name)<br>
            );
          </strong>
        </p>
        <img src="../examples/sql/composite-name-table.png"
          alt="table that make use of a composite key"
        /><br>
        <a href="../examples/sql/composite-name-table.txt">
          View full code to produce table.
        </a>
        <p>
          The previous table combines the columns first_name, middle_name and
          last name into a primary key as, while each column containes duplicate
          values a combination of the three values contained in each row is
          unique.
          <br><br>
          (Sources:<br>
          Head First SQL<br>
          <a href="https://www.techopedia.com/definition/6572/composite-key">
            techopedia: Composite Key
          </a><br>
          <a href="http://stackoverflow.com/questions/1110349/how-can-i-define-a-composite-primary-key-in-sql">
            stackoverflow: How can I define a composite primary key in SQL?
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="primary-keys" class="title-anchor"></div>
      <h2 class="section-header">Primary Keys</h2>

      <div class="section-content section-text-normal">
        <p>
          Primary keys act as unique identifiers for each row in a table. The
          column that holds the primary key can be created for that purpose
          alone or an already existing column that will never have duplicate
          values can act as the primary key.
          <br><br>
          The following shows how to assign a column as the primary key and how
          to ensure each value is unique.
          <br><br>
          <strong>
            CREATE TABLE people(<br>
            &#160;&#160;person_id INT NOT NULL AUTO_INCREMENT,<br>
            &#160;&#160;first_name VARCHAR(50),<br>
            &#160;&#160;last_name VARCHAR(50),<br>
            &#160;&#160;age INT,<br>
            &#160;&#160;gender VARCHAR(1),<br>
            &#160;&#160;PRIMARY KEY (person_id)<br>
            );
          </strong>
        </p>
        <img src="../examples/sql/primary-key-table.png" alt="primary key table"/><br>
        <a href="../examples/sql/primary-key-table-creation.txt">View full code to produce table.</a>
        <p>
          The primary key can also be designated as shown below
          <br><br>
          <strong>
            CREATE TABLE new_table(<br>
            &#160;&#160;id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,<br>
            );
          </strong>
        </p>
        <p>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="where-and-operators" class="title-anchor"></div>
      <h2 class="section-header">WHERE Clause and Conditional Operators</h2>

      <div class="section-content section-text-normal">

        <p>
          The following table will be used to provide examples.
        </p>
        <img src="../examples/sql/people-without-id-table.png" alt="table used to provide examples of WHERE statment"/><br>
        <a href="../examples/sql/people-without-id-table.txt">
          View full code to produce table.
        </a>
        <p>
          The keyword WHERE and Conditional operators in SQL are used alongside
          SELECT, UPDATE and DELETE in order to created conditions and control
          which rows are returned or altered.
          <br><br>
          <strong>
            SELECT first_name, last_name FROM people WHERE age=22;
          </strong>
        </p>
        <img src="../examples/sql/where-condition.png" alt="where statment table"/><br>
        <p>
          Multiple conditions can be combined using the operators AND / OR.
          <br><br>
          <strong>
            SELECT first_name, last_name FROM people WHERE age=22 AND gender='f';
          </strong>
        </p>
        <img src="../examples/sql/select-and.png" alt="AND where statment table"/><br>
        <p>
          <strong>
            SELECT first_name, last_name FROM people WHERE age=22 OR last_name='Lenart';
          </strong>
        </p>
        <img src="../examples/sql/select-or.png" alt="OR where statment table"/><br>
        <p>
          Equals (=) is not the only available comparison operator. Common ones
          include:
          <br><br>
          <strong>
            &#60;: Less than<br>
            &#62;: Greater than<br>
            &#60;=: Less than or equal to<br>
            &#62;=: Greater than or equal to<br>
            &#60;&#62;: Not equal<br>
          </strong>
          <em>
            != is also an operator for not equal to but it is not defined in
            the ANSI 99 SQL standard and so some platforms may not support it.
          </em>
          <br><br>
          Another comparison operator is the LIKE keyword. When used it returns
          results that are similar to the condition given. It is commonly used
          alongside wild card characters such as %(acts as any number of
          characters) or _(acts as a single unknown character).
          <br><br>
          <strong>
            SELECT * FROM people WHERE first_name LIKE '%a';
          </strong>
        </p>
        <img src="../examples/sql/like-a-post.png" alt="LIKE '%a' result table"/><br>
        <p>
          <strong>
            SELECT * FROM people WHERE first_name LIKE 'M%';
          </strong>
        </p>
        <img src="../examples/sql/like-m-pre.png" alt="LIKE 'M%' result table"/><br>
        <p>
          <strong>
            SELECT * FROM people WHERE last_name LIKE '_leek';
          </strong>
        </p>
        <img src="../examples/sql/like-leek.png" alt="LIKE '_leek' result table"/><br>
        <p>
          <strong>
            SELECT * FROM people WHERE last_name LIKE 'Sho_man';
          </strong>
        </p>
        <img src="../examples/sql/like-sho-man.png" alt="LIKE 'Sho_man' result table"/><br>
        <p>
          Another comparison operator is BETWEEN, which finds all rows within
          a stated range.
          <br><br>
          <strong>
            SELECT first_name, age FROM people WHERE age BETWEEN 40 AND 90;
          </strong>
        </p>
        <img src="../examples/sql/between-keyword-table.png" alt="BETWEEN result table"/><br>
        <p>
          The comparison operator IN can be ued in place of multiple OR
          statments.
          <br><br>
          <strong>
            SELECT first_name, last_name FROM people WHERE last_name IN
            ('Tanouye', 'Smith', 'Frisina');
          </strong>
        </p>
        <img src="../examples/sql/in-keyword-table.png" alt="IN result table"/><br>
        <p>
          The comparison operator NOT is used to find all rows which do not
          match the given condition.
          <br><br>
          <strong>
            SELECT first_name, age FROM people WHERE NOT age BETWEEN 40
            AND 90;
          </strong>
        </p>
        <img src="../examples/sql/not-between-table.png" alt="NOT BETWEEN result table"/><br>
        <p>
          <strong>
            SELECT first_name, last_name FROM people WHERE NOT last_name IN
            ('Tanouye', 'Smith', 'Frisina');
          </strong>
        </p>
        <img src="../examples/sql/not-in-table.png" alt="NOT IN result table"/><br>
        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://stackoverflow.com/questions/18015422/what-is-difference-between-and-in-sql-server">
            stackoverflow: What is difference between != and &#60;&#62; in sql server
          </a><br>
          <a href="http://web.cecs.pdx.edu/~len/sql1999.pdf">
            ANSI/ISO/IEC International Standard(IS) Database Language SQL 
            Part 2: Foundation (SQL/Foundation)
          </a><br>
          <a href="">
          </a><br>
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="not-null" class="title-anchor"></div>
      <h2 class="section-header">NOT NULL &#38; DEFAULT</h2>

      <div class="section-content section-text-normal">
        <p>
          NOT NULL is used while creating a table to ensure a column can never
          hold a null value. If this is used a value must always be given to
          the specified column when insert is called. When DESC is used on a
          table it is possible to see (in the third column) if a column can
          hold a null value.
          <br><br>
          <strong>
            CREATE TABLE people(<br>
            &#160;&#160;first_name VARCHAR(50) NOT NULL,<br>
            &#160;&#160;last_name VARCHAR(50) NOT NULL<br>
            );
          </strong>
          <br><br>
          To ensure a NOT NULL column always has a value DEFAULT can also be
          used during table creation. If a value is not given while inserting
          data the provided default value will be used.
          <br><br>
          <strong>
            CREATE TABLE people(<br>
            &#160;&#160;first_name VARCHAR(50) NOT NULL,<br>
            &#160;&#160;last_name VARCHAR(50) NOT NULL DEFAULT 'Smith'<br>
            );
          </strong>
          <br><br>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="data-types" class="title-anchor"></div>
      <h2 class="section-header">Data types</h2>

      <div class="section-content section-text-normal">
        <p>
          SQL data types
        </p>

        <ul>
          <li>
            <strong>CHAR(length) / CHARACTER(length)</strong>: Accepts a fixed
            length character string. A value with a length less that the given
            parameter will have blank characters added onto it. Values must be
            surrounded by single or double quotes.
          </li>

          <li>
            <strong>VARCHAR(length)</strong>: Accepts a variable length
            character string. Values must be surrounded by single or double
            quotes.
          </li>

          <li>
            <strong>Boolean</strong>: Holds a boolean value. When inserting data
            use TRUE or FALSE.
          </li>

          <li>
            <strong>INT / INTEGER</strong>: Takes a 4 byte / 32 bit whole number.
            As well as INT there is TINYINT(8 bit), SMALLINT(16 bit) and
            BIGINT(64 bit).
          </li>

          <li>
            <strong>
              DEC(totalDigitCount, digitsAfterDecimal) /<br>
              DECIMAL(totalDigitCount, digitsAfterDecimal) /<br>
              NUMERIC(totalDigitCount, digitsAfterDecimal)
            </strong>: Accepts whole and non whole numbers. The number to the
            left of the decimal may have any number of digits, but it will be
            rounded to match th value of digitsAfterDecimal. The number to the
            right of the decimal must have a digit count equal to or less than
            totalDigitCount - digitsAfterDecimal.
            <br><br>
            DEC(5, 3)<br>
            12.345 pass<br>
            1.23 pass<br>
            1.2345 pass but rounded to 1.235<br>
            123.45 fail
          </li>

          <li>
            <strong>REAL</strong>: Holds a single precision floating point
            number (32 bit approximation of a real number). All numbers
            containing 6 deciaml digits or fewer can be converted to a floating
            point value without loss of precision.
          </li>

          <li>
            <strong>DOUBLE</strong>: Holds a double precision floating point
            number (64 bit approximation of a real number). All numbers
            containing 15 deciaml digits or fewer can be converted to a floating
            point value without loss of precision.
          </li>

          <li>
            <strong>FLOAT(precision)</strong>: Holds a floating point
            number with a user defined precision with a max of 64.
          </li>

          <li>
            <strong>BLOB(length) / BINARY LARGE OBJECT(length)</strong>: Stored
            binary values up to a max size of 2GB.
          </li>

          <li>
            <strong>DATE</strong>: Accept date values surrounded by single
            quotes and in the format of DATE'YYYY-MM-DD' or 'YYYY-MM-DD'. Year
            can be values between 0-9999. Month can be values between 1-12. Day
            can be values between 1-31.
          </li>

          <li>
            <strong>TIME</strong>: Accept time values surrounded by single
            quotes and in the format of TIME'HH:MM:SS', 'HH:MM:SS',
            TIME'HH:MM:SS.NN' or 'HH:MM:SS.NN' (NN == nano seconds). Hour can
            be values between 0-23. Minute can be values between 0-59. Seconds
            can be values between 0-61.9999. TIME can accept DATE values but
            DATE must precede the value. The value input into the table will be
            00:00:00.
          </li>

          <li>
            <strong>TIMESTAMP</strong>: Accepts both date and time
            values surrounded by single quotes and in the format of
            TIMESTAMP'YYYY-MM-DD HH:MM:SS', 'YYYY-MM-DD HH:MM:SS',
            TIMESTAMP'YYYY-MM-DD HH:MM:SS.NN' or 'YYYY-MM-DD HH:MM:SS.NN'
            (NN == nano seconds). Acceptable values can be found in the DATE and
            TIME sections.
          </li>
        </ul>

        <p>
          (Sources:<br>
          Head First SQL<br>
          <a href="http://www.cs.toronto.edu/~nn/csc309-20085/guide/pointbase/docs/html/htmlfiles/dev_datatypesandconversionsFIN.html">
            toronto.edu: SQL Data Types
          </a><br>
          <a href="http://stackoverflow.com/questions/10707646/sql-real-vs-float">
            stackoverflow: SQL Real vs Float
          </a><br>
          <a href="http://doc.ispirer.com/sqlways/Output/SQLWays-1-099.html">
            Ispirer SQLWays Database Migration Software
          </a>
          <a href="https://en.wikipedia.org/wiki/Single-precision_floating-point_format">
            Wikipedia: Single-precision floating-point format
          </a><br>
          <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">
            Wikipedia: Double-precision floating-point format
          </a>)
        </p>
      </div>

    </div>

    <div class="divider"></div>

    <div class="section">

      <div id="basic-sql" class="title-anchor"></div>
      <h2 class="section-header">Basic SQL and the RDBMS</h2>

      <div class="section-content section-text-normal">
        <p>
          Access the SQL shell (assuming sql is installed):
          <br><br>
          <strong>
            mysql -u root -p
          </strong>
          <br><br>
          Create a new database:
          <br><br>
          <strong>
            CREATE DATABASE my_database;
          </strong>
          <br><br>
          Access the database:
          <br><br>
          <strong>
            USE my_database;
          </strong>
          <br><br>
          Create a new table in the database:
          <br><br>
          <strong>
              CREATE TABLE people(<br>
              &#160;&#160;first_name VARCHAR(50),<br>
              &#160;&#160;last_name VARCHAR(50),<br>
              &#160;&#160;age INT,<br>
              &#160;&#160;gender VARCHAR(1)<br>
              );
          </strong>
          <br><br>
          View table details:
          <br><br>
          <strong>
              DESC people;
          </strong>
          <br><br>
          Insert data into table:<br>
          <em>
            In the first insert example not all column must be named, only
            the ones to be used. In the second example as the column names are
            omitted data must be provided for all columns in the correct order.
          </em>
          <br><br>
          <strong>
            INSERT INTO people (first_name, last_name, age, gender)
            VALUES ('Samantha', 'Herring', 25, 'f');<br>
            or<br>
            INSERT INTO people (first_name, last_name, age, gender)
            VALUES <br>
            ('Samantha', 'Herring', 25, 'f'),<br>
            ('John', 'Doe', 32, 'm');<br>
            or<br>
            INSERT INTO people VALUES('Samantha', 'Herring', 25, 'f');
          </strong>
          <br><br>
          Query and return data from the table.
          <br><br>
          <strong>
              SELECT * FROM people;
          </strong>
          <br><br>
          Set the order of the results returned.<br>
          To reverse orders DESC must be used but ASC is the default setting
          <br><br>
          <strong>
              SELECT * FROM people ORDER BY age;<br>
              SELECT * FROM people ORDER BY gender ASC, age DESC;
          </strong>
          <br><br>
          Update rows.
          <br><br>
          <strong>
              UPDATE people SET age = 26 WHERE last_name = 'Herring';
          </strong>
          <br><br>
          Delete specific rows:
          <br><br>
          <strong>
              DELETE FROM people WHERE age = 26;
          </strong>
          <br><br>
          Delete all rows:
          <br><br>
          <strong>
              DELETE FROM people;
          </strong>
          <br><br>
          Delete table:
          <br><br>
          <strong>
              DROP TABLE people;
          </strong>
          <br><br>
          Delete database:
          <br><br>
          <strong>
              DROP DATABASE my_database;
          </strong>
          <br><br>
          (Sources:<br>
          Head First SQL)
        </p>
      </div>

    </div>

    <div class="divider"></div>

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" rel="javascript"></script>
  <script src="../j-script/contents-arrays/contents-item.js" rel="javascript"></script>
  <script src="../j-script/contents-arrays/sql-contents.js" rel="javascript"></script>
  <script src="../j-script/manage-contents.js" rel="javascript"></script>
  <script src="../j-script/contents-arrays/contents-search.js" rel="javascript"></script>
  <script src="../j-script/header.js" rel="javascript"></script>
  <script src="../j-script/summary-layout-switcher.js" rel="javascript"></script>
  <script src="../j-script/summary-pages-events.js" rel="javascript"></script>

</body>

</html>
